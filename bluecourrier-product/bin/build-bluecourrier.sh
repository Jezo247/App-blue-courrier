#!/bin/bash

CURRENT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

source "${CURRENT_DIR}/common.sh.lib"

LICENSE_MODE=${LICENSE_MODE:-enterprise}
MVN_OPTS="-Dlicense=${LICENSE_MODE} ${MVN_OPTS}"

PRODUCT_NAME="bluecourrier-${LICENSE_MODE}"
BRANCH=5.0

DIGITAL_SIGNING_LOCATION=${DIGITAL_SIGNING_LOCATION:-${WORKSPACE_DIR}/digital-signing}
LICENSING_LOCATION=${LICENSING_LOCATION:-${WORKSPACE_DIR}/licensing}
ALFRESCO_EXTENSIONS_LOCATION=${ALFRESCO_EXTENSIONS_LOCATION:-${WORKSPACE_DIR}/alfresco-extensions}
EXTJS_INTEGRATION_SHARE=${EXTJS_INTEGRATION:-${WORKSPACE_DIR}/extjs-integration/extjs-integration-share}

DEPENDENCY_PROJECTS=("${DIGITAL_SIGNING_LOCATION}" "${DIGITAL_SIGNING_LOCATION}/digital-signing-core" "${LICENSING_LOCATION}" "${LICENSING_LOCATION}/licensing-core" "${ALFRESCO_EXTENSIONS_LOCATION}")
REPO_PROJECTS=("${ALFRESCO_EXTENSIONS_LOCATION}" "${ROOT_DIR}/bluecourrier-repo" "${DIGITAL_SIGNING_LOCATION}/digital-signing-repo")
SHARE_PROJECTS=("${EXTJS_INTEGRATION_SHARE}" "${ROOT_DIR}/bluecourrier-share")
EXTRA_WEBAPPS_PROJECTS=("${DIGITAL_SIGNING_LOCATION}/digital-signing-webapp")

source "${CURRENT_DIR}/build.sh"

