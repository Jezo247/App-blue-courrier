#!/bin/bash

CURRENT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

source "${CURRENT_DIR}/common.sh.lib"

LICENSE_MODE=${LICENSE_MODE:-enterprise}
MVN_OPTS="-Dlicense=${LICENSE_MODE} ${MVN_OPTS}"

PRODUCT_NAME="bluecourrier-${LICENSE_MODE}"
BRANCH=5.1

BLUECOURRIER_LOCATION=${ROOT_DIR}
DIGITAL_SIGNING_LOCATION=${DIGITAL_SIGNING_LOCATION:-${WORKSPACE_DIR}/digital-signing}
LICENSING_LOCATION=${LICENSING_LOCATION:-${WORKSPACE_DIR}/licensing}
ALFRESCO_EXTENSIONS_LOCATION=${ALFRESCO_EXTENSIONS_LOCATION:-${WORKSPACE_DIR}/alfresco-extensions}
EXTJS_INTEGRATION_LOCATION=${EXTJS_INTEGRATION_LOCATION:-${WORKSPACE_DIR}/extjs-integration}

PROJECTS=("${LICENSING_LOCATION}" "${ALFRESCO_EXTENSIONS_LOCATION}" "${DIGITAL_SIGNING_LOCATION}" "${EXTJS_INTEGRATION_LOCATION}" "${BLUECOURRIER_LOCATION}")
REPO_PROJECTS=("${ALFRESCO_EXTENSIONS_LOCATION}/alfresco-extensions-core" "${BLUECOURRIER_LOCATION}/bluecourrier-repo" "${DIGITAL_SIGNING_LOCATION}/digital-signing-repo")
SHARE_PROJECTS=("${EXTJS_INTEGRATION_LOCATION}/extjs-integration-share" "${BLUECOURRIER_LOCATION}/bluecourrier-share")
EXTRA_WEBAPPS_PROJECTS=("${DIGITAL_SIGNING_LOCATION}/digital-signing-webapp")

source "${CURRENT_DIR}/build.sh"

